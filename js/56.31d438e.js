(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[56],{EbEZ:function(t,e,i){},P5FO:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("q-toolbar-title"),i("q-page-sticky",{attrs:{position:"top-right",offset:[10,5]}},[i("q-btn",{staticClass:"q-ma-md",attrs:{icon:"add",color:"primary",label:"New Course"},on:{click:function(e){t.$store.commit("settings/updateNewCourseModal",!0)}}})],1),i("div",{staticClass:"flex"},[i("div",{staticClass:"row inline"},[i("div",{staticClass:"col-11 q-ma-md"},[i("q-list",{attrs:{"inset-separator":"",link:""}},[i("q-list-header",[t._v("Courses")]),t._l(t.courses,function(e,a){return i("div",{key:a,on:{click:function(i){t.clickCourse(e)}}},[i("q-item",{attrs:{highlight:""}},[i("div",[i("q-item-main",[i("q-item-tile",{attrs:{label:""}},[t._v(t._s(e.courseName?e.courseName:""))])],1)],1)])],1)})],2)],1)]),i("div",{staticClass:"col q-ma-md"},[i("q-list",{staticStyle:{"min-width":"40vw","min-height":"auto"},attrs:{inline:""}},[i("q-list-header",[i("div",{staticClass:"row"},[i("q-input",{attrs:{"hide-underline":!t.isEditActivity2,readonly:!t.isEditActivity2},model:{value:t.selectCourse.courseName,callback:function(e){t.$set(t.selectCourse,"courseName",e)},expression:"selectCourse.courseName"}}),!t.isEditActivity2&&t.isUsedCourse(t.selectCourse)?i("q-btn",{staticClass:"q-mx-md",attrs:{size:"sm",color:"positive",label:"Arrange Activity",icon:"open with"},on:{click:function(e){t.selectCourse=t.selectCourse,t.arrangement(),t.arrangeModal=!0}}}):t._e(),i("div",[!t.isEditActivity2&&t.isUsedCourse(t.selectCourse)?i("q-btn",{staticClass:"q-mx-md",attrs:{size:"sm",color:"secondary",label:"Edit",icon:"edit"},on:{click:function(e){t.enableEdit()}}}):t._e(),t.isEditActivity2?i("div",{staticClass:"q-ml-md"},[i("q-btn",{attrs:{size:"sm",color:"positive",label:"Save",icon:"save"},on:{click:function(e){t.updateCourse()}}}),i("q-btn",{attrs:{size:"sm",color:"negative",label:"Cancel",icon:"close"},on:{click:function(e){t.cancelEdit()}}}),t.isNewActivity?t._e():i("div",[i("q-btn",{attrs:{rounded:"",color:"tertiary",size:"sm",icon:"add",label:"Add Activity"},on:{click:function(e){t.isNewActivity=!0}}})],1),t.isNewActivity?i("div",{staticClass:"row"},[i("div",{staticClass:"col"},[i("q-input",{attrs:{"float-label":"Activity Name"},model:{value:t.newActivityLabel,callback:function(e){t.newActivityLabel=e},expression:"newActivityLabel"}})],1),i("div",{staticClass:"flex items-center col"},[i("q-btn",{attrs:{rounded:"",color:"positive",size:"sm",label:"ok"},on:{click:t.addNewActivity2}}),i("q-btn",{attrs:{rounded:"",color:"negative",size:"sm",label:"cancel"},on:{click:function(e){t.isNewActivity=!1}}})],1)]):t._e()],1):t._e()],1),!t.isEditActivity2&&t.isUsedCourse(t.selectCourse)?i("q-btn",{attrs:{size:"sm",color:"negative",label:"Remove Course"},on:{click:function(e){t.removeCourse(t.selectCourse)}}}):t._e()],1)]),t._l(t.getActivities,function(e,a){return i("q-item",{key:a,attrs:{separator:""}},[i("q-item-main",[i("div",{staticClass:"row flex items-end"},[i("div",{staticClass:"col-4"},[i("q-input",{attrs:{"hide-underline":t.isCanEdit(e,a),readonly:t.isCanEdit(e,a)},model:{value:e.label,callback:function(i){t.$set(e,"label",i)},expression:"activity.label"}})],1),i("div",{staticClass:"col-6"},[i("div",{staticClass:"row"},[t.actPrimary5(e,a)?i("q-btn-toggle",{attrs:{readonly:t.isCanEdit(e,a),size:"sm",rounded:"","toggle-color":"primary",options:[{label:"M",value:"monday"},{label:"T",value:"tuesday"},{label:"W",value:"wednesday"},{label:"TH",value:"thursday"},{label:"F",value:"friday"},{label:"SAT",value:"saturday"},{label:"SUN",value:"sunday"}]},model:{value:e.dayOfWeek,callback:function(i){t.$set(e,"dayOfWeek",i)},expression:"activity.dayOfWeek"}}):t._e(),t.actPrimary5(e,a)&&"payments"!=e.value?i("q-checkbox",{staticClass:"q-body-1 q-ml-md",attrs:{readonly:t.isCanEdit(e,a),label:"Picked Date"},on:{focus:function(t){e.dayOfWeek=""}},model:{value:e.datePick,callback:function(i){t.$set(e,"datePick",i)},expression:"activity.datePick"}}):t._e()],1),t.actPrimary4(e,a)?i("q-btn-toggle",{attrs:{readonly:t.isCanEditPayments(e,a),size:"sm",rounded:"","toggle-color":"secondary",options:[{label:"Time/Location/Details",value:"detailed"},{label:"Date Range",value:"date range"}]},model:{value:e.actType,callback:function(i){t.$set(e,"actType",i)},expression:"activity.actType"}}):t._e(),"date range"===e.actType?i("q-input",{staticClass:"q-mt-md",attrs:{readonly:t.isCanEdit(e,a),type:"number","stack-label":"Duration(days)"},model:{value:e.duration,callback:function(i){t.$set(e,"duration",i)},expression:"activity.duration"}}):t._e()],1)])]),i("div",{staticClass:"row flex"},[t.actPrimary4(e,a)&&!t.isCanEdit(e,a)?i("q-btn",{staticClass:"col",attrs:{rounded:"",size:"md",label:"",dense:"",color:"negative",icon:"close"},on:{click:function(i){t.removeActivity(t.selectCourse,e)}}}):t._e()],1)],1)})],2),i("q-inner-loading",{attrs:{visible:t.getNewActivityLoading}},[i("q-spinner",{attrs:{size:"50px",color:"primary"}})],1)],1)]),i("q-modal",{attrs:{maximized:"","content-css":{minWidth:"80vw",minHeight:"80vh"}},model:{value:t.newCourseModal,callback:function(e){t.newCourseModal=e},expression:"newCourseModal"}},[i("q-modal-layout",{attrs:{"footer-style":"{ height: '24px' }"}},[i("q-toolbar",{attrs:{slot:"header"},slot:"header"},[i("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{flat:"",round:"",dense:"",icon:"keyboard_arrow_left"}}),i("q-toolbar-title",[t._v("\n\t\t\t\t\t\tNew Course\n\t\t\t\t\t")])],1),i("div",{staticClass:"bg-primary row flex justify-center",attrs:{slot:"footer"},slot:"footer"},[t.isEdit?t._e():i("q-btn",{attrs:{icon:"save",color:"positive",label:"Save"},on:{click:t.saveNewCourse2}})],1),i("div",{staticClass:"q-ma-md"},[i("q-field",{staticClass:"col q-ma-md",attrs:{error:t.$store.getters["settings/isExistCourses"](t.courseName),"error-label":"Course Already Exist"}},[i("q-input",{attrs:{"float-label":"Course Name",color:"primary",error:t.$v.courseName.$error},on:{blur:function(e){t.capitalize()}},model:{value:t.courseName,callback:function(e){t.courseName=e},expression:"courseName"}})],1),i("div",[i("div",{staticClass:"flex justify-between"},[i("p",{staticClass:"q-title text-weight-bold"},[t._v("Activities")]),t.isNewActivity?t._e():i("div",[i("q-btn",{attrs:{rounded:"",color:"tertiary",size:"sm",icon:"add",label:"Add Activity"},on:{click:function(e){t.isNewActivity=!0}}})],1),t.isNewActivity?i("div",{staticClass:"row"},[i("div",{staticClass:"col"},[i("q-input",{attrs:{"float-label":"Activity Name"},model:{value:t.newActivityLabel,callback:function(e){t.newActivityLabel=e},expression:"newActivityLabel"}})],1),i("div",{staticClass:"flex items-center col"},[i("q-btn",{attrs:{rounded:"",color:"positive",size:"sm",label:"ok"},on:{click:t.addNewActivity}}),i("q-btn",{attrs:{rounded:"",color:"negative",size:"sm",label:"cancel"},on:{click:function(e){t.isNewActivity=!1}}})],1)]):t._e()]),i("draggable",{staticClass:"list-group",attrs:{element:"ul",options:t.dragOptions,move:t.newCourseCheckMove},on:{start:function(e){t.isDragging=!0},end:function(e){t.isDragging=!1}},model:{value:t.newCourseDefaultActivities,callback:function(e){t.newCourseDefaultActivities=e},expression:"newCourseDefaultActivities"}},[i("transition-group",{attrs:{type:"transition",name:"flip-list"}},t._l(t.newCourseDefaultActivities,function(e,a){return i("q-item",{key:a},[i("q-item-main",[i("div",{staticClass:"flex row items-center"},[i("div",{staticClass:"q-mr-md col"},[i("q-input",{attrs:{readonly:t.isCanChange(e)},model:{value:e.label,callback:function(i){t.$set(e,"label",i)},expression:"activity.label"}})],1),i("div",{staticClass:"col-5"},[t.actPrimary(e,a)?i("q-btn-toggle",{attrs:{size:"sm",rounded:"",disable:e.datePick,"toggle-color":"primary",options:[{label:"M",value:"monday"},{label:"T",value:"tuesday"},{label:"W",value:"wednesday"},{label:"TH",value:"thursday"},{label:"F",value:"friday"},{label:"SAT",value:"saturday"},{label:"SUN",value:"sunday"}]},model:{value:e.dayOfWeek,callback:function(i){t.$set(e,"dayOfWeek",i)},expression:"activity.dayOfWeek"}}):t._e(),t.actPrimary(e,a)?i("q-checkbox",{staticClass:"q-body-1 q-ml-md",attrs:{label:"Picked Date"},on:{focus:function(t){e.dayOfWeek=""}},model:{value:e.datePick,callback:function(i){t.$set(e,"datePick",i)},expression:"activity.datePick"}}):t._e()],1),i("div",{staticClass:"col-4"},[t.actPrimary2(e,a)?i("q-btn-toggle",{attrs:{readonly:t.isReadOnlyActiivty(e,a),size:"sm",rounded:"","toggle-color":"secondary",options:[{label:"Time/Location/Details",value:"detailed"},{label:"Date Range",value:"date range"}]},model:{value:e.actType,callback:function(i){t.$set(e,"actType",i)},expression:"activity.actType"}}):t._e(),"date range"===e.actType?i("q-input",{staticClass:"q-mt-md",attrs:{type:"number","stack-label":"Duration(days)"},model:{value:e.duration,callback:function(i){t.$set(e,"duration",i)},expression:"activity.duration"}}):t._e()],1)])]),t.actPrimary3(e,a)?i("q-item-side",[i("q-icon",{attrs:{name:t.isDontMove2(e,a)}}),"payment"!=e.value?i("q-btn",{staticClass:"q-ml-md",attrs:{round:"",color:"negative",size:"xs",icon:"remove"},on:{click:function(e){t.removeActivity2(a)}}}):t._e()],1):t._e()],1)}))],1)],1)],1)],1),i("q-inner-loading",{attrs:{visible:t.getNewActivityLoading}},[i("q-spinner",{attrs:{size:"50px",color:"primary"}})],1)],1),i("q-modal",{attrs:{"content-css":{minWidth:"30vw",minHeight:"45vh"}},on:{hide:t.clearModal},model:{value:t.activitiesModal,callback:function(e){t.activitiesModal=e},expression:"activitiesModal"}},[i("q-modal-layout",{attrs:{"header-style":"min-height: 100px","content-class":"{'bg-primary': isPrimary}","footer-class":"bg-primary some-class","footer-style":"{fontSize: '24px', fontWeight: 'bold'}"}},[i("q-toolbar",[i("q-toolbar-title",[t._v("\n\t          \t"+t._s(t.isEdit?"Edit Activity":"New Activity")+"\n\t          ")]),i("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"close"},on:{click:function(e){t.activitiesModal=!t.activitiesModal}}})],1),i("div",[i("q-field",{staticClass:"col q-ma-md",attrs:{error:t.activityError}},[i("q-input",{staticClass:"col q-ma-md",attrs:{"stack-label":"Activity Name",error:t.$v.activityName.$error},on:{blur:function(e){t.$store.getters["settings/isExistActivity"]({activities:t.selectCourse.activities,activity:t.activityName})}},model:{value:t.activityName,callback:function(e){t.activityName=e},expression:"activityName"}},[i("q-autocomplete",{attrs:{debounce:1e3},on:{search:t.search}})],1)],1),i("div",{staticClass:"q-ma-md"},[0!=t.dayAfter.dateNumber?i("q-field",{staticClass:"col q-ma-md",attrs:{label:"Day Interval",orientation:"vertical"}},[i("div",{staticClass:"row q-ma-md"},[i("div",{staticClass:"col-1 q-my-md"},[i("q-input",{model:{value:t.dayAfter.dateNumber,callback:function(e){t.$set(t.dayAfter,"dateNumber",e)},expression:"dayAfter.dateNumber"}})],1),i("div",{staticClass:"col-3 q-mx-md"},[i("q-select",{attrs:{"float-label":"Interval",options:t.dateTypeOpt},model:{value:t.dayAfter.dateType,callback:function(e){t.$set(t.dayAfter,"dateType",e)},expression:"dayAfter.dateType"}})],1)])]):t._e(),i("q-btn-toggle",{attrs:{rounded:"","toggle-color":"primary",options:[{label:"Time/Location/Details",value:"detailed"},{label:"Due Date",value:"duedate"}]},model:{value:t.actType,callback:function(e){t.actType=e},expression:"actType"}})],1)],1),i("div",{attrs:{slot:"footer"},slot:"footer"},[t.isEdit?t._e():i("q-btn",{staticClass:"full-width",attrs:{color:"primary"},on:{click:t.addActivities}},[t._v("Save")]),t.isEdit?i("q-btn",{staticClass:"full-width",attrs:{color:"secondary"},on:{click:t.updateActivity}},[t._v("Update")]):t._e()],1)],1),i("q-inner-loading",{attrs:{visible:t.getNewActivityLoading}},[i("q-spinner",{attrs:{size:"50px",color:"primary"}})],1)],1),i("q-modal",{attrs:{"content-css":{minWidth:"30vw",minHeight:"45vh"}},on:{hide:t.clearModal},model:{value:t.arrangeModal,callback:function(e){t.arrangeModal=e},expression:"arrangeModal"}},[i("q-modal-layout",{attrs:{"header-style":"min-height: 100px","content-class":"{'bg-primary': isPrimary}","footer-class":"bg-primary some-class","footer-style":"{fontSize: '24px', fontWeight: 'bold'}"}},[i("q-toolbar",[i("q-toolbar-title",[t._v("\n\t            Arrange Activity\n\t          ")]),i("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"close"},on:{click:function(e){t.arrangeModal=!t.arrangeModal}}})],1),i("div",[i("draggable",{staticClass:"list-group",attrs:{element:"ul",options:t.dragOptions,move:t.checkMove},on:{start:function(e){t.isDragging=!0},end:function(e){t.isDragging=!1}},model:{value:t.activityArrangement.activities,callback:function(e){t.$set(t.activityArrangement,"activities",e)},expression:"activityArrangement.activities"}},[i("transition-group",{attrs:{type:"transition",name:"flip-list"}},t._l(t.activityArrangement.activities,function(e,a){return i("q-item",{key:a},[i("q-item-main",[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(e.label?e.label:"")+"\n\t\t\t\t\t\t\t\t\t\t")]),i("q-item-side",{attrs:{right:"",icon:t.isDontMove(e)}})],1)}))],1)],1),i("div",{attrs:{slot:"footer"},slot:"footer"},[t.isEdit?t._e():i("q-btn",{staticClass:"full-width",attrs:{color:"primary"},on:{click:t.saveArrangement}},[t._v("Save")])],1)],1),i("q-inner-loading",{attrs:{visible:t.getNewActivityLoading}},[i("q-spinner",{attrs:{size:"50px",color:"primary"}})],1)],1)],1)},o=[];s._withStripped=!0;a("rGqo");var n=a("MVZn"),r=a.n(n),c=(a("0mN4"),a("ls82"),a("yXPU")),l=a.n(c),u=(a("INYr"),a("FRYs")),d=a.n(u),v=a("ta7f"),y=a("wdPS"),h=function(t,e){return!!e.$store.getters["settings/isExistCourses"](e.courseName)},m={created:function(){var t=this;this.callExternalServices().then(function(){t.loaded=!0})},mounted:function(){var t=this;this.$bindAsArray("events",this.$database.ref("events")),this.$bindAsArray("activities",this.$database.ref("settings/activityList")),this.$bindAsArray("courses2",this.$database.ref("settings/courses"),null,function(){t.$store.state.settings.courses=t.courses2,t.loadSelectedCourse()}),this.selectCourse=this.courses[0]?this.courses[0]:{}},update:function(){},validations:function(){return{courseName:{required:v["required"],isCourseNameError:h},activityName:{required:v["required"]}}},components:{draggable:d.a},watch:{actType:function(){"detailed"===this.actType?(this.activityStatus.time=!0,this.activityStatus.location=!0,this.activityStatus.details=!0,this.activityStatus.dueDate=!1):(this.activityStatus.time=!1,this.activityStatus.location=!1,this.activityStatus.details=!1,this.activityStatus.dueDate=!0)}},computed:{getLastActivity:function(){try{var t=this.selectCourse.activities.length,e=this.selectCourse.activities[t-1];return e}catch(t){return""}},dragOptions:function(){return{animation:0,ghostClass:"ghost",group:"label",disabled:this.editActivity}},courses:{get:function(){try{return this.$store.state.startUp.courses}catch(t){return[]}},set:function(t){this.$store.state.settings.courses=t}},newActivityModal:{get:function(){return this.$store.state.settings.newActivityModal},set:function(t){this.$store.commit("settings/updateNewActivityModal",t)}},arrangeModal:{get:function(){return this.$store.state.settings.arrangeModal},set:function(t){this.$store.state.settings.arrangeModal=t}},activitiesModal:{get:function(){return this.$store.state.settings.activitiesModal},set:function(t){this.$store.commit("settings/updateActivitiesModal",t)}},getNewActivityLoading:function(){return this.$store.state.settings.activityLoading},newCourseModal:{get:function(){return this.$store.state.settings.newCourseModal},set:function(t){this.$store.commit("settings/updateNewCourseModal",t)}},eventTypeOpt:function(){try{var t=this.$lodash.map(this.courses,function(t){return{label:t.courseName,value:t[".key"]}});return t}catch(t){return[]}},activitiesOpt:function(){var t=this;try{for(var e=0;e<this.activities.length;e++)this.activities[e].visible=!0;if(this.isEdit){for(e=0;e<this.activities.length;e++)this.activities[e].visible=!0;for(var i=[],a=0;a<this.activities.length;a++)this.activities[a].visible&&(delete this.activities[a][".key"],i.push({label:this.activities[a].label,value:this.activities[a].label}));return i}if(""!=this.newActivity.courseKey){var s=this.$lodash.filter(this.courses,function(e){return e[".key"]===t.newActivity.courseKey});for(e=0;e<s[0].activities.length;e++)for(var o=0;o<this.activities.length;o++)this.activities[o].label===s[0].activities[e].label&&(this.activities[o].visible=!1);var n=[];for(a=0;a<this.activities.length;a++)this.activities[a].visible&&n.push({label:this.activities[a].label,value:this.activities[a]});return n}return[]}catch(t){return[]}},parseActivities:function(){return this.$store.getters["settings/parseActivities"]},activityError:function(){return!this.isEdit&&this.$store.getters["settings/isExistActivity"]({activities:this.selectCourse.activities,activity:this.activityName})},getActivities:function(){return this.selectCourse.activities}},data:function(){return{tempSelectCourse:{},isEditActivity2:!1,toggle:"",isNewActivity:!1,courseName:"",newActivityLabel:"",newCourseDefaultActivities:[{day:"",datePick:!1,dayOfWeek:"",duration:0,actType:"detailed",label:"Orientation",value:"orientation",visible:!0},{day:"",duration:0,datePick:!1,dayOfWeek:"",actType:"detailed",eventType:"",label:"Payments",value:"payments",visible:!0},{day:"",duration:0,datePick:!1,dayOfWeek:"",actType:"detailed",eventType:"",label:"Photoshoot",value:"photoshoot",visible:!0},{day:"",duration:5,datePick:!1,dayOfWeek:"",actType:"date range",eventType:"",label:"Photoliking",value:"photoliking",visible:!0},{day:"",duration:0,datePick:!1,dayOfWeek:"",actType:"detailed",eventType:"",label:"Workshops",value:"workshops",visible:!0},{day:"",duration:0,datePick:!1,dayOfWeek:"",actType:"detailed",eventType:"",label:"Final Event",value:"final event",visible:!0}],loaded:!1,actType:"",testData:[],editActivity:!1,myArray:[],event:[],activityArrangement:[],list:["Foo","Bar","Baz"],items:["Item 1","Item 2","Item 3","Item 4","Item 5","Item 6","Item 7","Item 8"],dayAfter:{dateNumber:1,dateType:"week"},dateTypeOpt:[{label:"days",value:"days"},{label:"weeks",value:"weeks"},{label:"months",value:"months"}],activityIndex:-1,activities:[],kidsFashionCourse:[],basicCourse:[],fullCourse:[],isEdit:!1,checked:"",selectCourse:{},activityName:"",newActivities:"",activityStatus:{time:!1,location:!1,details:!1,dueDate:!1},newActivity:{eventType:"",activityName:"",courseKey:"",time:!0,location:!0,details:!0,dueDate:!1}}},methods:{isReadOnlyActiivty:function(t,e){return"photoshoot"===t.value||"photoshoots"===t.value||"photoliking"===t.value||"photo liking"===t.value},updateCourse:function(){var t=this;this.$q.dialog({title:"Save Confirmation",message:"Do you want to save ?",ok:"Yes",cancel:"No"}).then(function(){t.$store.dispatch("settings/updateCourse",t.selectCourse).then(function(e){t.isEditActivity2=!1})}).catch(function(){})},enableEdit:function(){this.tempSelectCourse=this.$store.getters["startUp/getPlainValue"](this.selectCourse),this.isEditActivity2=!0},cancelEdit:function(){this.selectCourse=this.tempSelectCourse,this.isEditActivity2=!1},isCanEditPayments:function(t,e){return!this.isEditActivity2||("payments"===t.value||"photoliking"===t.value)},isCanEdit:function(t,e){return!this.isEditActivity2||("orientation"===t.value||"final event"===t.value)},isCanChange:function(t){return"orientation"===t.value||"payments"===t.value},saveNewCourse2:function(){var t=this;!1===this.$v.courseName.$error&&!1===this.$v.courseName.isCourseNameError?this.$q.dialog({title:"Save Confirmation",message:"Do you want to save ?",ok:"Yes",cancel:"No"}).then(function(){var e={courseName:t.courseName,activities:t.newCourseDefaultActivities};t.$store.dispatch("settings/saveNewCourse2",e).then(function(){t.courseName="",t.newCourseDefaultActivities=[{day:"",datePick:!1,actType:"detailed",label:"Orientation",value:"orientation",visible:!0},{day:"",datePick:!1,actType:"",eventType:"",label:"Payment",value:"payment",visible:!0},{day:"",datePick:!1,actType:"",eventType:"",label:"Workshops",value:"workshops",visible:!0},{dayAfter:{dayOfWeek:"",dateNumber:0,dateType:0},datePick:!1,actType:"detailed",eventType:"",label:"Final Event",value:"final event",visible:!0}]})}).catch(function(){}):this.$q.notify("Invalid Course Name")},removeActivity2:function(t){this.newCourseDefaultActivities.splice(t,1)},fillActivityTypeIsPhotoshootOrPhotoliking:function(t){return"photoshoot"===t||"photoshoots"===t?"detailed":"photoliking"===t||"photo liking"===t?"date range":""},checkHasDuplicate:function(t){var e=this.$lodash.findIndex(this.newCourseDefaultActivities,function(e){return e.value===t});return!(e<=-1)},addNewActivity:function(){!1===this.checkHasDuplicate(this.newActivityLabel)?(this.newCourseDefaultActivities.splice(2,0,{day:"",datePick:!1,actType:this.fillActivityTypeIsPhotoshootOrPhotoliking(this.newActivityLabel),eventType:"",label:this.$store.getters["settings/titleCase"](this.newActivityLabel),value:this.newActivityLabel,visible:!0}),this.newActivityLabel="",this.isNewActivity=!1):this.$q.notify("Invalid Activity Name")},addNewActivity2:function(){this.selectCourse.activities.splice(5,0,{day:"",datePick:!1,actType:"",eventType:"",label:this.$store.getters["settings/titleCase"](this.newActivityLabel),value:this.newActivityLabel,visible:!0}),this.newActivityLabel="",this.isNewActivity=!1},actPrimary:function(t,e){return"orientation"!==t.value&&e!==this.newCourseDefaultActivities.length-1},actPrimary2:function(t,e){return 0!==e&&e!==this.newCourseDefaultActivities.length-1&&"payments"!==t.value&&"workshops"!==t.value&&"workshop"!==t.value},actPrimary3:function(t,e){return 0!==e&&e!==this.newCourseDefaultActivities.length-1&&"payments"!==t.value},actPrimary4:function(t,e){return 0!==e&&"final event"!==t.value&&"payments"!==t.value&&"photoshoot"!==t.value&&"photoshoots"!==t.value&&"workshops"!==t.value&&"workshop"!==t.value},actPrimary5:function(t,e){return"orientation"!==t.value&&"final event"!==t.value},actPrimary6:function(t,e){return 0!==e&&"final event"!==t.value&&"payments"!==t.value},capitalizeAct:function(){try{this.activityName=this.$store.getters["settings/titleCase"](this.activityName)}catch(t){}},callExternalServices:function(){var t=l()(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:setTimeout(function(){return!0},3e3);case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),addActBtn:function(){this.dayAfter.dateNumber=0,this.newActivity.time=!0,this.newActivity.location=!0,this.newActivity.details=!0,this.activityStatus.time=!0,this.activityStatus.location=!0,this.activityStatus.details=!0},isUsed:function(t){},isDontMove:function(t){return"open_with"},isDontMove2:function(t,e){return e<=1?"":"open_with"},onMove:function(t){var e=t.relatedContext,i=t.draggedContext,a=e.element,s=i.element;return(!a||!a.fixed)&&!s.fixed},loadSelectedCourse:function(){try{this.selectCourse=this.courses2[0]}catch(t){}},clickCourse:function(t){this.selectCourse=t},arrangement:function(){try{this.activityArrangement=r()({},this.selectCourse)}catch(t){}},onMoveCallback:function(t,e){},checkMove:function(t){t.relatedContext.list.length;return"orientation"!==t.draggedContext.element.value&&"payment"!==t.draggedContext.element.value&&1!==t.draggedContext.futureIndex&&"final event"!==t.draggedContext.element.value&&"general_rehersal"!==t.draggedContext.element.value&&t.draggedContext.futureIndex!==t.relatedContext.list.length-1&&"photoshoot"!==t.draggedContext.element.value&&"photoliking"!==t.draggedContext.element.value&&t.draggedContext.futureIndex>3&&t.draggedContext.element.value!==this.getLastActivity.value},newCourseCheckMove:function(t){return"orientation"!==t.draggedContext.element.value&&"payments"!==t.draggedContext.element.value&&1!==t.draggedContext.futureIndex&&"final event"!==t.draggedContext.element.value&&t.draggedContext.futureIndex!==t.relatedContext.list.length-1},sortEnd:function(t,e,i,a){},activityErrorLabel:function(){return""===this.activityName?"":this.isEdit?"":"Activity Already Exist"},input:function(t){},sortStart:function(t,e,i,a){},search:function(t,e){var i=this;setTimeout(function(){e(Object(y["a"])(t,{field:"value",list:i.parseActivities}))},1e3)},selected:function(t){this.activityName=t.label},capitalize:function(){try{var t=this.courseName;this.courseName=this.$store.getters["settings/titleCase"](t)}catch(t){}},addNewEventActivity:function(){var t=this,e=this.$lodash.filter(this.courses,function(e){return e[".key"]===t.newActivity.courseKey}),i=this.newActivity.activityName;i.details=this.newActivity.details,i.time=this.newActivity.time,i.location=this.newActivity.location,i.dueDate=this.newActivity.dueDate,delete i[".key"],e[0].activities.push(i),this.$store.dispatch("settings/addNewEventActivity",{payload:e[0],fireb:this.$firebase.database(),quasu:this.$q}),this.$bindAsArray("courses",this.$database.ref("settings/courses"))},addNewCourse:function(){this.$v.courseName.$touch(),this.$v.courseName.$error?this.$q.notify("Enter Course Name"):(this.capitalize(),this.$store.dispatch("settings/addNewCourse",{payload:this.courseName,fireb:this.$firebase.database(),quasu:this.$q}),this.courseName="")},removeCourse:function(t){var e=this,i=this;this.$q.dialog({title:"Delete Confirmation",message:"Do you want to remove ".concat(t.courseName,"?"),ok:"Yes",cancel:"No"}).then(function(){e.$store.dispatch("settings/removeCourse",{payload:t,fireb:e.$firebase.database(),quasu:e.$q}).then(function(){i.loadSelectedCourse()})}).catch(function(){})},addActivities:function(){this.$v.activityName.$touch(),(this.$v.activityName.$error||this.activityError)&&this.$q.notify("Invalid Activity Name")},removeActivities:function(t){var e=this;this.$q.dialog({title:"Delete Confirmation",message:"Do you want to remove ".concat(t.label,"?"),ok:"Yes",cancel:"No"}).then(function(){e.$store.dispatch("settings/removeActivities",{payload:t,fireb:e.$database,quasu:e.$q})}).catch(function(){})},clearModal:function(){this.selectCourse=this.courses[i],this.activityStatus.time=!1,this.activityStatus.location=!1,this.activityStatus.details=!1,this.activityStatus.dueDate=!1,this.dayAfter.dateNumber=0,this.dayAfter.dateType="days",this.activityName="",this.isEdit=!1},clearNewCourseModal:function(){this.newCourse=""},dontDelete:function(t){return"orientation"!==t&&"payment"!==t&&"photoshoot"!==t&&"photoliking"!==t&&"general rehersal"!==t&&"final event"!==t&&t!==this.getLastActivity.value},isEditActivity:function(t){return"orientation"!==t},editMode:function(t,e,i){this.selectCourse=t,this.dayAfter.dateNumber=e.dayAfter.dateNumber,this.dayAfter.dateType=e.dayAfter.dateType,this.activityName=e.label,this.activityStatus.details=e.details,this.activityStatus.dueDate=e.dueDate,this.activityStatus.location=e.location,this.activityStatus.time=e.time,this.activityIndex=i,this.isEdit=!0,this.$forceUpdate(),this.$store.state.settings.activitiesModal=!0},updateActivity:function(){var t=this;this.$store.dispatch("settings/editActivity",{course:this.selectCourse,activity:this.activityName,index:this.activityIndex,dayAfter:this.dayAfter,status:this.activityStatus}).then(function(){var e=t.$lodash.findIndex(t.courses,function(e){return e[".key"]===t.selectCourse[".key"]});t.selectCourse=t.courses[e],t.$forceUpdate()}),this.$bindAsArray("courses",this.$database.ref("settings/courses"))},removeActivity:function(t,e){var i=this;this.$q.dialog({title:"Delete Confirmation",message:"Do you want to delete ".concat(t.courseName," ").concat(e.label,"?"),ok:"Yes",cancel:"No"}).then(function(){i.$store.dispatch("settings/removeActivity",{course:t,activity:e})}).catch(function(){}),this.$bindAsArray("courses",this.$database.ref("settings/courses"))},saveArrangement:function(){var t=this;this.$q.dialog({title:"Save Confirmation",message:"Do you want to save ?",ok:"Yes",cancel:"No"}).then(function(){t.$store.dispatch("settings/saveArrangement",t.activityArrangement),t.$bindAsArray("courses",t.$database.ref("settings/courses"))}).catch(function(){})},isUsedCourse:function(t){var e=new Array;this.$lodash.forEach(this.events,function(t){try{for(var i=0;i<t.seasons.length;i++)e.push(t.seasons[i])}catch(t){}});var i=this.$lodash.findIndex(e,function(e){return e.course===t[".key"]});return-1===i},isDueEnable:function(){this.newActivity.time=!1,this.newActivity.location=!1,this.newActivity.details=!1,this.activityStatus.time=!1,this.activityStatus.location=!1,this.activityStatus.details=!1},test:function(t){console.log("act",t),console.log("getActivities",this.getActivities),console.log("selectCourse",this.selectCourse),console.log("courses",this.courses)},test2:function(){console.log("selectCourse",this.selectCourse);var t=this.selectCourse.activities.length,e=this.selectCourse.activities[t-1];return console.log("lastAct",e),e}}},f=m,g=(a("mGVy"),a("KHd+")),p=Object(g["a"])(f,s,o,!1,null,null,null);e["default"]=p.exports},mGVy:function(t,e,i){"use strict";var a=i("EbEZ"),s=i.n(a);s.a}}]);